<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard San Blas ‚Äî Cat√°logo 27/02/2026</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&family=IBM+Plex+Sans:wght@400;600;700;800&display=swap');

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #070A14;
    --card: #0D1117;
    --border: #1E293B;
    --text: #E2E8F0;
    --muted: #6B7280;
    --dim: #374151;
    --cyan: #00E5C3;
    --yellow: #FFB800;
    --red: #FF4757;
    --purple: #A78BFA;
    --orange: #FF7F50;
    --teal: #4ECDC4;
    --blue: #60A5FA;
  }

  body {
    font-family: 'IBM Plex Mono', monospace;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    padding: 28px 32px;
  }

  /* HEADER */
  .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 28px; flex-wrap: wrap; gap: 16px; }
  .header-left .eyebrow { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-size: 10px; color: var(--muted); letter-spacing: 3px; text-transform: uppercase; }
  .dot { width: 8px; height: 8px; background: var(--cyan); border-radius: 50%; box-shadow: 0 0 12px var(--cyan); animation: pulse 2s infinite; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.4} }
  h1 { font-family: 'IBM Plex Sans', sans-serif; font-size: 26px; font-weight: 800; color: #F1F5F9; letter-spacing: -0.5px; }
  h1 span { color: var(--cyan); }
  .subtitle { font-size: 11px; color: var(--muted); margin-top: 4px; letter-spacing: 1px; }

  /* TABS */
  .tabs { display: flex; gap: 5px; background: #0D1117; border-radius: 10px; padding: 4px; border: 1px solid var(--border); }
  .tab { padding: 8px 18px; border-radius: 7px; border: none; cursor: pointer; font-size: 10px; font-family: 'IBM Plex Mono', monospace; letter-spacing: 1.5px; text-transform: uppercase; font-weight: 700; background: transparent; color: var(--muted); transition: all 0.2s; }
  .tab.active { background: var(--cyan); color: var(--bg); }
  .tab:hover:not(.active) { color: var(--text); }

  /* KPI CARDS */
  .kpis { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 28px; }
  .kpi { background: linear-gradient(135deg, #0D1117, #111827); border-radius: 14px; padding: 20px 22px; position: relative; overflow: hidden; border: 1px solid; }
  .kpi-icon-bg { position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.04; }
  .kpi-icon { font-size: 20px; margin-bottom: 6px; }
  .kpi-val { font-family: 'IBM Plex Sans', sans-serif; font-size: 26px; font-weight: 800; line-height: 1; }
  .kpi-label { font-size: 13px; font-weight: 600; color: #F1F5F9; margin-top: 6px; }
  .kpi-sub { font-size: 10px; color: var(--muted); margin-top: 2px; letter-spacing: 1px; }

  /* PANELS */
  .panel { display: none; }
  .panel.active { display: grid; }
  .grid-2 { grid-template-columns: 1fr 1fr; gap: 20px; }
  .grid-3 { grid-template-columns: 1fr 1fr 1fr; gap: 14px; }
  .span-2 { grid-column: 1 / -1; }

  .card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 22px 24px; }
  .card-title { font-size: 10px; color: var(--muted); letter-spacing: 2px; text-transform: uppercase; margin-bottom: 18px; }
  .card-title.red { color: var(--red); }

  /* CHARTS */
  .chart-wrap { position: relative; }

  /* LEGEND */
  .legend { display: flex; flex-direction: column; gap: 8px; }
  .legend-item { display: flex; justify-content: space-between; align-items: center; }
  .legend-dot { width: 8px; height: 8px; border-radius: 2px; flex-shrink: 0; }
  .legend-label { font-size: 11px; color: var(--muted); display: flex; align-items: center; gap: 6px; }
  .legend-val { font-size: 12px; font-weight: 700; }

  /* STAT ROWS */
  .stat-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #111827; }
  .stat-row:last-child { border-bottom: none; }
  .stat-label { font-size: 11px; color: var(--muted); }
  .stat-val { font-size: 13px; font-weight: 700; }

  /* PROGRESS BARS */
  .progress-wrap { margin-bottom: 14px; }
  .progress-header { display: flex; justify-content: space-between; margin-bottom: 5px; }
  .progress-name { font-size: 11px; color: var(--muted); }
  .progress-pct { font-size: 12px; font-weight: 700; }
  .progress-track { background: #111827; border-radius: 4px; height: 6px; }
  .progress-fill { height: 100%; border-radius: 4px; transition: width 1s ease; }

  /* TABLE */
  table { width: 100%; border-collapse: collapse; }
  th { text-align: left; font-size: 9px; color: var(--dim); letter-spacing: 2px; padding: 6px 10px; border-bottom: 1px solid var(--border); }
  td { padding: 11px 10px; font-size: 11px; color: var(--text); border-bottom: 1px solid #111827; }
  td:last-child { border-bottom: none; }
  tr:last-child td { border-bottom: none; }
  .badge { padding: 3px 8px; border-radius: 6px; font-size: 11px; font-weight: 700; display: inline-block; }

  /* ALERT CARDS */
  .alert-card { border-radius: 14px; padding: 18px 20px; }
  .alert-icon { font-size: 22px; margin-bottom: 8px; }
  .alert-val { font-family: 'IBM Plex Sans', sans-serif; font-size: 24px; font-weight: 800; }
  .alert-title { font-size: 12px; font-weight: 600; color: #E2E8F0; margin-top: 4px; }
  .alert-sub { font-size: 10px; color: var(--muted); margin-top: 2px; }

  /* RECO */
  .reco { background: var(--bg); border-radius: 10px; padding: 16px 18px; display: flex; gap: 14px; align-items: flex-start; border: 1px solid; }
  .reco-num { font-size: 20px; font-weight: 800; opacity: 0.35; min-width: 28px; }
  .reco-title { font-size: 12px; font-weight: 700; margin-bottom: 4px; }
  .reco-body { font-size: 11px; color: var(--muted); line-height: 1.5; }

  /* FOOTER */
  .footer { margin-top: 28px; padding-top: 14px; border-top: 1px solid #111827; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 8px; }
  .footer span { font-size: 10px; color: var(--dim); letter-spacing: 1.5px; }

  /* INSIGHT BOX */
  .insight { background: var(--bg); border-radius: 10px; padding: 14px 16px; border: 1px solid var(--border); margin-top: 16px; }
  .insight p { font-size: 11px; color: var(--muted); line-height: 1.7; }

  /* PROVIDER GRID */
  .prov-mini { display: flex; gap: 12px; margin-top: 20px; }
  .prov-mini-card { flex: 1; background: var(--bg); border-radius: 10px; padding: 12px 14px; border: 1px solid; }
  .prov-mini-val { font-family: 'IBM Plex Sans', sans-serif; font-size: 22px; font-weight: 800; }
  .prov-mini-label { font-size: 10px; color: var(--muted); margin-top: 2px; }

  @media (max-width: 900px) {
    .kpis { grid-template-columns: repeat(2,1fr); }
    .grid-2 { grid-template-columns: 1fr; }
    .tabs { flex-wrap: wrap; }
    .span-2 { grid-column: auto; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="header-left">
    <div class="eyebrow"><div class="dot"></div> Sistema de Inventario</div>
    <h1>Dashboard de Cat√°logo <span>Farmacia</span></h1>
    <p class="subtitle">27 / 02 / 2026 ‚Äî 4,652 SKUs analizados</p>
  </div>
  <div class="tabs" id="tabBar">
    <button class="tab active" onclick="switchTab('overview')">Overview</button>
    <button class="tab" onclick="switchTab('margenes')">M√°rgenes</button>
    <button class="tab" onclick="switchTab('proveedores')">Proveedores</button>
    <button class="tab" onclick="switchTab('alertas')">Alertas</button>
  </div>
</div>

<!-- KPIs -->
<div class="kpis">
  <div class="kpi" style="border-color:#00E5C322;">
    <div class="kpi-icon-bg" style="color:var(--cyan)">‚óà</div>
    <div class="kpi-icon" style="color:var(--cyan)">‚óà</div>
    <div class="kpi-val" style="color:var(--cyan)">4,652</div>
    <div class="kpi-label">Total Productos</div>
    <div class="kpi-sub">en cat√°logo</div>
  </div>
  <div class="kpi" style="border-color:#FFB80022;">
    <div class="kpi-icon-bg" style="color:var(--yellow)">‚¨°</div>
    <div class="kpi-icon" style="color:var(--yellow)">‚¨°</div>
    <div class="kpi-val" style="color:var(--yellow)">$497,564</div>
    <div class="kpi-label">Valor Neto Total</div>
    <div class="kpi-sub">suma precio neto</div>
  </div>
  <div class="kpi" style="border-color:#FF6B6B22;">
    <div class="kpi-icon-bg" style="color:var(--red)">‚óÜ</div>
    <div class="kpi-icon" style="color:var(--red)">‚óÜ</div>
    <div class="kpi-val" style="color:var(--red)">28.2%</div>
    <div class="kpi-label">Margen Promedio</div>
    <div class="kpi-sub">sobre precio</div>
  </div>
  <div class="kpi" style="border-color:#A78BFA22;">
    <div class="kpi-icon-bg" style="color:var(--purple)">‚óâ</div>
    <div class="kpi-icon" style="color:var(--purple)">‚óâ</div>
    <div class="kpi-val" style="color:var(--purple)">$128.26</div>
    <div class="kpi-label">Precio Promedio</div>
    <div class="kpi-sub">por producto</div>
  </div>
</div>

<!-- ‚îÄ‚îÄ PANEL OVERVIEW ‚îÄ‚îÄ -->
<div class="panel grid-2 active" id="panel-overview">
  <div class="card">
    <div class="card-title">Valor Neto por Departamento (Top 10)</div>
    <div class="chart-wrap"><canvas id="chartNetoDepto" height="280"></canvas></div>
  </div>
  <div class="card">
    <div class="card-title">Distribuci√≥n de M√°rgenes</div>
    <div style="display:flex;gap:16px;align-items:center;">
      <div style="flex:0 0 200px;"><canvas id="chartMargenPie" height="200"></canvas></div>
      <div class="legend" style="flex:1">
        <div class="legend-item"><div class="legend-label"><div class="legend-dot" style="background:#FF4757"></div>Negativo</div><div class="legend-val" style="color:#FF4757">48</div></div>
        <div class="legend-item"><div class="legend-label"><div class="legend-dot" style="background:#FF7F50"></div>0‚Äì10%</div><div class="legend-val" style="color:#FF7F50">2,010</div></div>
        <div class="legend-item"><div class="legend-label"><div class="legend-dot" style="background:#FFB800"></div>10‚Äì20%</div><div class="legend-val" style="color:#FFB800">785</div></div>
        <div class="legend-item"><div class="legend-label"><div class="legend-dot" style="background:#00E5C3"></div>20‚Äì30%</div><div class="legend-val" style="color:#00E5C3">536</div></div>
        <div class="legend-item"><div class="legend-label"><div class="legend-dot" style="background:#4ECDC4"></div>30‚Äì50%</div><div class="legend-val" style="color:#4ECDC4">571</div></div>
        <div class="legend-item"><div class="legend-label"><div class="legend-dot" style="background:#A78BFA"></div>&gt; 50%</div><div class="legend-val" style="color:#A78BFA">702</div></div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-title"># Productos por Departamento (Top 10)</div>
    <div class="chart-wrap"><canvas id="chartProdDepto" height="240"></canvas></div>
  </div>
  <div class="card">
    <div class="card-title">Distribuci√≥n Rangos de Precio</div>
    <div class="chart-wrap"><canvas id="chartRangoPrecio" height="240"></canvas></div>
  </div>
</div>

<!-- ‚îÄ‚îÄ PANEL M√ÅRGENES ‚îÄ‚îÄ -->
<div class="panel grid-2" id="panel-margenes">
  <div class="card span-2">
    <div class="card-title">Margen % Promedio vs Valor Neto por Departamento</div>
    <div class="chart-wrap"><canvas id="chartDual" height="260"></canvas></div>
  </div>
  <div class="card">
    <div class="card-title">Resumen M√°rgenes</div>
    <div class="stat-row"><span class="stat-label">Margen promedio global</span><span class="stat-val" style="color:var(--cyan)">28.2%</span></div>
    <div class="stat-row"><span class="stat-label">Productos margen &gt; 50%</span><span class="stat-val" style="color:var(--purple)">702 SKUs</span></div>
    <div class="stat-row"><span class="stat-label">Productos margen 0‚Äì10%</span><span class="stat-val" style="color:var(--orange)">2,010 SKUs</span></div>
    <div class="stat-row"><span class="stat-label">Productos margen negativo</span><span class="stat-val" style="color:var(--red)">48 SKUs</span></div>
    <div class="stat-row"><span class="stat-label">Con descuento activo</span><span class="stat-val" style="color:var(--yellow)">294 SKUs</span></div>
    <div class="stat-row"><span class="stat-label">Precio tipo FIJO</span><span class="stat-val" style="color:var(--teal)">4,062 SKUs</span></div>
    <div class="stat-row"><span class="stat-label">Con IVA 16%</span><span class="stat-val" style="color:var(--blue)">1,590 SKUs</span></div>
    <div class="stat-row"><span class="stat-label">Venta a granel habilitada</span><span class="stat-val" style="color:#34D399">2,508 SKUs</span></div>
  </div>
  <div class="card">
    <div class="card-title">Top Departamentos por Margen %</div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">GAVETA 1 (28 SKUs)</span><span class="progress-pct" style="color:var(--red)">337.2%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:100%;background:var(--red)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">ANT PAT 1 (53 SKUs)</span><span class="progress-pct" style="color:var(--cyan)">72.9%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:22%;background:var(--cyan)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">GEN 7 (138 SKUs)</span><span class="progress-pct" style="color:var(--cyan)">64.7%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:19%;background:var(--cyan)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">PAT 3 (142 SKUs)</span><span class="progress-pct" style="color:var(--cyan)">61.1%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:18%;background:var(--cyan)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">PAT 1 (141 SKUs)</span><span class="progress-pct" style="color:var(--cyan)">56.9%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:17%;background:var(--cyan)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">PAT 2 (125 SKUs)</span><span class="progress-pct" style="color:var(--cyan)">54.2%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:16%;background:var(--cyan)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">PA√ëALES (112 SKUs)</span><span class="progress-pct" style="color:var(--yellow)">31.9%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:9%;background:var(--yellow)"></div></div>
    </div>
    <div class="progress-wrap">
      <div class="progress-header"><span class="progress-name">OTC 2 (191 SKUs)</span><span class="progress-pct" style="color:var(--yellow)">31.8%</span></div>
      <div class="progress-track"><div class="progress-fill" style="width:9%;background:var(--yellow)"></div></div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ PANEL PROVEEDORES ‚îÄ‚îÄ -->
<div class="panel grid-2" id="panel-proveedores">
  <div class="card" style="grid-column: 1 / 2">
    <div class="card-title">An√°lisis por Proveedor</div>
    <table>
      <thead><tr><th>Proveedor</th><th>SKUs</th><th>Valor Neto</th><th>Margen %</th></tr></thead>
      <tbody>
        <tr><td><strong>CITYFARMA</strong></td><td style="color:var(--muted)">1,811</td><td style="color:var(--yellow);font-weight:700">$295,699</td><td><span class="badge" style="background:#00E5C322;color:var(--cyan)">36.6%</span></td></tr>
        <tr><td><strong>FANASA</strong></td><td style="color:var(--muted)">2,272</td><td style="color:var(--yellow);font-weight:700">$149,056</td><td><span class="badge" style="background:#FFB80022;color:var(--yellow)">21.7%</span></td></tr>
        <tr><td><strong>NADRO</strong></td><td style="color:var(--muted)">398</td><td style="color:var(--yellow);font-weight:700">$37,405</td><td><span class="badge" style="background:#00E5C322;color:var(--cyan)">26.9%</span></td></tr>
        <tr><td><strong>ROSARIO</strong></td><td style="color:var(--muted)">35</td><td style="color:var(--yellow);font-weight:700">$2,464</td><td><span class="badge" style="background:#00E5C322;color:var(--cyan)">34.7%</span></td></tr>
        <tr><td><strong>FL</strong></td><td style="color:var(--muted)">30</td><td style="color:var(--yellow);font-weight:700">$1,970</td><td><span class="badge" style="background:#FFB80022;color:var(--yellow)">19.4%</span></td></tr>
      </tbody>
    </table>
    <div class="insight">
      <p><span style="color:var(--cyan);font-weight:700">CITYFARMA</span> concentra el <span style="color:var(--yellow)">59.4%</span> del valor total con solo 39% de los SKUs y margen de 36.6%. <span style="color:var(--purple);font-weight:700">FANASA</span> domina en volumen (49% de SKUs) pero con margen m√°s bajo (21.7%) ‚Äî oportunidad de negociaci√≥n.</p>
    </div>
  </div>
  <div class="card">
    <div class="card-title">Participaci√≥n Valor Neto</div>
    <canvas id="chartProvPie" height="220"></canvas>
    <div class="card-title" style="margin-top:20px;">Resurtido activo</div>
    <div class="prov-mini">
      <div class="prov-mini-card" style="border-color:var(--cyan)33">
        <div class="prov-mini-val" style="color:var(--cyan)">4,005</div>
        <div class="prov-mini-label">Activo (V)</div>
      </div>
      <div class="prov-mini-card" style="border-color:var(--dim)">
        <div class="prov-mini-val" style="color:var(--dim)">646</div>
        <div class="prov-mini-label">Inactivo (N)</div>
      </div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ PANEL ALERTAS ‚îÄ‚îÄ -->
<div class="panel" id="panel-alertas" style="display:none;">
  <div class="grid-3" style="margin-bottom:20px;">
    <div class="alert-card" style="background:#FF475711;border:1px solid #FF475744;">
      <div class="alert-icon">‚ö†</div>
      <div class="alert-val" style="color:var(--red)">48 SKUs</div>
      <div class="alert-title">Productos margen negativo</div>
      <div class="alert-sub">Precio de venta &lt; Costo</div>
    </div>
    <div class="alert-card" style="background:#FF7F5011;border:1px solid #FF7F5044;">
      <div class="alert-icon">‚äò</div>
      <div class="alert-val" style="color:var(--orange)">646 SKUs</div>
      <div class="alert-title">Sin resurtido (N)</div>
      <div class="alert-sub">No se reabastecen</div>
    </div>
    <div class="alert-card" style="background:#FFB80011;border:1px solid #FFB80044;">
      <div class="alert-icon">‚óà</div>
      <div class="alert-val" style="color:var(--yellow)">2,010 SKUs</div>
      <div class="alert-title">Margen muy bajo (0‚Äì10%)</div>
      <div class="alert-sub">43% del cat√°logo activo</div>
    </div>
  </div>
  <div class="card" style="margin-bottom:20px;border-color:#FF475722;">
    <div class="card-title red">‚ö† Productos con Margen Negativo ‚Äî P√©rdida Potencial</div>
    <table>
      <thead><tr><th>Producto</th><th>Departamento</th><th>Margen %</th><th>Acci√≥n Recomendada</th></tr></thead>
      <tbody>
        <tr><td>SERETIDE DISKUS SALMETEROL</td><td style="color:var(--muted)">GAVETA 1</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí345%</span></td><td style="color:var(--muted);font-size:10px">üî¥ Revisar precio de compra urgente</td></tr>
        <tr><td>LUXTER OMEGA 3</td><td style="color:var(--muted)">OTC 2</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí274%</span></td><td style="color:var(--muted);font-size:10px">üî¥ Revisar precio de compra urgente</td></tr>
        <tr><td>TRUSOPT DORZOLAMIDA 2%</td><td style="color:var(--muted)">PAT 3</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí261%</span></td><td style="color:var(--muted);font-size:10px">üî¥ Revisar precio de compra urgente</td></tr>
        <tr><td>PRETERAX PERINDOPRIL</td><td style="color:var(--muted)">PAT 3</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí245%</span></td><td style="color:var(--muted);font-size:10px">üî¥ Revisar precio de compra urgente</td></tr>
        <tr><td>ARTELAC NIGHTTIME GEL</td><td style="color:var(--muted)">PAT 1</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí236%</span></td><td style="color:var(--muted);font-size:10px">üü† Renegociar con proveedor</td></tr>
        <tr><td>DIPROSPAN HIPAK BETAMETASONA</td><td style="color:var(--muted)">PAT 1</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí219%</span></td><td style="color:var(--muted);font-size:10px">üü† Renegociar con proveedor</td></tr>
        <tr><td>VASCUFLOW DOBESILATO</td><td style="color:var(--muted)">PAT 3</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí197%</span></td><td style="color:var(--muted);font-size:10px">üü† Renegociar con proveedor</td></tr>
        <tr><td>PROTEFLOR LACTOBACILLUS</td><td style="color:var(--muted)">OTC 1</td><td><span class="badge" style="background:#FF475722;color:var(--red)">‚àí196%</span></td><td style="color:var(--muted);font-size:10px">üü° Ajustar precio de venta</td></tr>
      </tbody>
    </table>
  </div>
  <div class="card">
    <div class="card-title">Recomendaciones Estrat√©gicas</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:4px;">
      <div class="reco" style="border-color:#FFB80022;">
        <div class="reco-num" style="color:var(--yellow)">01</div>
        <div><div class="reco-title" style="color:var(--yellow)">Optimizar ABARROTES</div><div class="reco-body">554 SKUs con margen promedio de solo 13.7%. Revisar estructura de costos o reducir cat√°logo.</div></div>
      </div>
      <div class="reco" style="border-color:#00E5C322;">
        <div class="reco-num" style="color:var(--cyan)">02</div>
        <div><div class="reco-title" style="color:var(--cyan)">Potenciar PAT 1-3</div><div class="reco-body">Mayor valor neto ($147k) y margen s√≥lido del 54‚Äì61%. Priorizar surtido y visibilidad.</div></div>
      </div>
      <div class="reco" style="border-color:#FF6B6B22;">
        <div class="reco-num" style="color:var(--red)">03</div>
        <div><div class="reco-title" style="color:var(--red)">Revisar GAVETA 1</div><div class="reco-body">Margen de 337% an√≥malo en 28 productos. Validar si es correcto o hay error de datos.</div></div>
      </div>
      <div class="reco" style="border-color:#A78BFA22;">
        <div class="reco-num" style="color:var(--purple)">04</div>
        <div><div class="reco-title" style="color:var(--purple)">Negociar con FANASA</div><div class="reco-body">49% del cat√°logo pero solo 21.7% de margen. Renegociar condiciones comerciales.</div></div>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  <span>CAT√ÅLOGO ¬∑ 27022026.CSV ¬∑ 4,652 REGISTROS</span>
  <div style="display:flex;gap:20px;">
    <span>IVA 16%: <span style="color:#4B5563">1,590 SKUs</span></span>
    <span>Sin IVA: <span style="color:#4B5563">3,062 SKUs</span></span>
    <span>Con descuento: <span style="color:#4B5563">294 SKUs</span></span>
  </div>
</div>

<script>
// ‚îÄ‚îÄ TAB SWITCHING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function switchTab(name) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.panel').forEach(p => { p.classList.remove('active'); p.style.display = 'none'; });
  event.target.classList.add('active');
  const panel = document.getElementById('panel-' + name);
  panel.style.display = 'grid';
  panel.classList.add('active');
  if (name === 'alertas') panel.style.display = 'block';
}

// ‚îÄ‚îÄ CHART DEFAULTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Chart.defaults.color = '#6B7280';
Chart.defaults.font.family = "'IBM Plex Mono', monospace";
Chart.defaults.font.size = 10;

const gridColor = '#1E293B';
const tooltip = {
  backgroundColor: 'rgba(10,14,26,0.97)',
  borderColor: '#1E293B',
  borderWidth: 1,
  titleColor: '#9CA3AF',
  bodyColor: '#E2E8F0',
  padding: 10,
};

// ‚îÄ‚îÄ CHART 1: Neto por Depto (horizontal bar) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('chartNetoDepto'), {
  type: 'bar',
  data: {
    labels: ['PAT 3','PAT 1','PAT 2','GAVETA 1','OTC 2','OTC 3','DAMA','ANT PAT 1','GEN 7','PA√ëALES'],
    datasets: [{
      label: 'Valor Neto $',
      data: [51550, 48157, 47200, 33055, 29865, 21953, 21182, 18645, 17383, 17264],
      backgroundColor: ['#00E5C3','#00D4B4','#00C3A5','#00B296','#00A187','#009078','#007F69','#006E5A','#005D4B','#004C3C'],
      borderRadius: 4,
    }]
  },
  options: {
    indexAxis: 'y',
    responsive: true,
    plugins: { legend: { display: false }, tooltip },
    scales: {
      x: { grid: { color: gridColor }, ticks: { callback: v => `$${(v/1000).toFixed(0)}k` } },
      y: { grid: { display: false } }
    }
  }
});

// ‚îÄ‚îÄ CHART 2: Margen Pie ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('chartMargenPie'), {
  type: 'doughnut',
  data: {
    labels: ['Negativo','0‚Äì10%','10‚Äì20%','20‚Äì30%','30‚Äì50%','> 50%'],
    datasets: [{
      data: [48, 2010, 785, 536, 571, 702],
      backgroundColor: ['#FF4757','#FF7F50','#FFB800','#00E5C3','#4ECDC4','#A78BFA'],
      borderWidth: 2,
      borderColor: '#070A14',
    }]
  },
  options: {
    cutout: '62%',
    plugins: { legend: { display: false }, tooltip }
  }
});

// ‚îÄ‚îÄ CHART 3: Productos por Depto ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('chartProdDepto'), {
  type: 'bar',
  data: {
    labels: ['ABARROTES','CURACION','MOSTRADOR','REFRI B','CABALLERO','OTC 2','DAMA','OTC 3','OTC 4','PANEL 2'],
    datasets: [{
      label: 'Productos',
      data: [554, 373, 298, 206, 191, 191, 189, 185, 183, 148],
      backgroundColor: '#FFB800',
      borderRadius: 4,
    }]
  },
  options: {
    responsive: true,
    plugins: { legend: { display: false }, tooltip },
    scales: {
      x: { grid: { display: false }, ticks: { maxRotation: 35 } },
      y: { grid: { color: gridColor } }
    }
  }
});

// ‚îÄ‚îÄ CHART 4: Rangos de precio ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('chartRangoPrecio'), {
  type: 'bar',
  data: {
    labels: ['< $10','$10‚Äì50','$50‚Äì100','$100‚Äì500','> $500'],
    datasets: [{
      label: 'Productos',
      data: [175, 1739, 898, 1097, 200],
      backgroundColor: ['#A78BFA','#8B6FE8','#7053D5','#5437C2','#381BAF'],
      borderRadius: 4,
    }]
  },
  options: {
    responsive: true,
    plugins: { legend: { display: false }, tooltip },
    scales: {
      x: { grid: { display: false } },
      y: { grid: { color: gridColor } }
    }
  }
});

// ‚îÄ‚îÄ CHART 5: Dual (Neto + Margen) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('chartDual'), {
  type: 'bar',
  data: {
    labels: ['PAT 3','PAT 1','PAT 2','GAVETA 1','OTC 2','OTC 3','DAMA','ANT PAT 1','GEN 7','PA√ëALES'],
    datasets: [
      { label: 'Neto $', data: [51550,48157,47200,33055,29865,21953,21182,18645,17383,17264], backgroundColor: '#00E5C3CC', borderRadius: 4, yAxisID: 'y' },
      { label: 'Margen %', data: [61.1,56.9,54.2,337.2,31.8,27.0,21.9,72.9,64.7,31.9], backgroundColor: '#FFB800AA', borderRadius: 4, yAxisID: 'y2' }
    ]
  },
  options: {
    responsive: true,
    plugins: { legend: { labels: { color: '#9CA3AF' } }, tooltip },
    scales: {
      x: { grid: { display: false } },
      y: { grid: { color: gridColor }, ticks: { callback: v => `$${(v/1000).toFixed(0)}k` }, position: 'left' },
      y2: { grid: { display: false }, ticks: { callback: v => `${v}%` }, position: 'right' }
    }
  }
});

// ‚îÄ‚îÄ CHART 6: Proveedores Pie ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
new Chart(document.getElementById('chartProvPie'), {
  type: 'pie',
  data: {
    labels: ['CITYFARMA','FANASA','NADRO','ROSARIO','FL'],
    datasets: [{
      data: [295699, 149056, 37405, 2464, 1970],
      backgroundColor: ['#00E5C3','#FFB800','#FF6B6B','#A78BFA','#4ECDC4'],
      borderWidth: 2,
      borderColor: '#070A14',
    }]
  },
  options: {
    plugins: {
      legend: { position: 'bottom', labels: { color: '#9CA3AF', padding: 12, font: { size: 10 } } },
      tooltip: { ...tooltip, callbacks: { label: ctx => ` ${ctx.label}: $${ctx.raw.toLocaleString()}` } }
    }
  }
});
</script>
</body>
</html>
